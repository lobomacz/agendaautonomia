<macz-nav-bar [usuario]="usuario"></macz-nav-bar>
<section class="seccion-nuevo-usuario">
	<div class="formulario-container">
		<form #contactForm="ngForm" accept-charset="utf-8">
			<div class="tabla-bloques">
				<div class="tabla-bloques__filas">
					<div class="tabla-bloques__fila--flat">
						<div class="tabla-bloques__columna">
							<div class="formulario__group">
								<label for="nombre">Nombre</label>
								<input class="formulario__control" [(ngModel)]="funcionario.nombre" type="text" #nombre="ngModel" name="nombre" required placeholder="Nombre y Apellido">
								<div class="mensaje mensaje--error" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
									<div *ngIf="nombre.errors.required">
										El campo nombre es requerido.
									</div>
								</div>
							</div>
							<div class="formulario__group">
								<label for="organizacion">Institución</label>
								<select class="formulario__control" name="organizacion" [(ngModel)]="funcionario.organizacion" required>
									<option *ngFor="let org of organizaciones | async" value="{{ org.key }}">{{ org.key | uppercase }}</option>
								</select>
							</div>
							<div class="formulario__group">
								<label for="cargo">Cargo</label>
								<input class="formulario__control" type="text" name="cargo" [(ngModel)]="funcionario.cargo" placeholder="Cargo" #cargo="ngModel" id="cargo" required>
							</div>
							<div class="formulario__group">
								<label for="email">Correo</label>
								<input class="formulario__control" type="email" name="correo" [(ngModel)]="funcionario.correo" placeholder="Correo" #correo="ngModel" id="correo" required>
							</div>
						</div>
						<div class="tabla-bloques__columna">
							<div class="formulario__group">
								<img class="formulario-container__image" src="{{ foto_temp_nombre }}" alt="Foto de {{ funcionario.nombre }}">
							</div>
							<div class="formulario__group">
								<label for="foto" class="formulario__boton-archivo">Foto&nbsp;<span class="formulario__icono-archivo">&#xe072;</span></label>
								<input class="formulario__input-archivo" type="file" #foto id="foto" name="foto" (change)="OnFotoChange(foto)" accept="image/jpeg|image/png|image/jpg" [disabled]="!nombre.valid">
							</div>
						</div>
					</div>
					<div class="tabla-bloques__fila--flat">
						<div class="tabla-bloques__columna">
							<div class="formulario__group">
								<label for="region">Región</label>
								<select class="formulario__control" name="region" id="region" required #region [(ngModel)]="funcionario.region" (change)="OnSelectRegion()">
									<option *ngFor="let region of regiones | async" value="{{ region.key }}">{{ region.key | uppercase }}</option>
								</select>
							</div>
							<div class="formulario__group">
								<label for="municipio">Municipio</label>
								<select class="formulario__control" name="municipio" id="municipio" required [(ngModel)]="funcionario.municipio" placeholder="Seleccione">
									<option *ngFor="let municipio of municipios | async" value="{{ municipio.key }}">{{ municipio.payload.val().nombre }}</option>
									option
								</select>
							</div>
						</div>
						<div class="tabla-bloques__columna">
							<div class="formulario__group">
								<label for="telefono">Teléfono</label>
								<input class="formulario__control" type="text" name="telefono" [(ngModel)]="funcionario.telefono" placeholder="Teléfono" #telefono="ngModel" id="telefono" required>
							</div>
							<div class="formulario__group">
								<label for="movil">Móvil</label>
								<input class="formulario__control" type="text" name="movil" [(ngModel)]="funcionario.movil" placeholder="Móvil" #movil="ngModel" id="movil" required>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="formulario__group">
				<input class="btn btn-blanco" [disabled]="!contactForm.form.valid" type="button" name="guardar" (click)="OnGuardar()" value="{{ nuevo == true ? 'Guardar' : 'Actualizar' }}">
			</div>
		</form>
	</div>
</section>
